
# Code Refactoring
بازآرایی کد 

 ### دستور کار:

https://github.com/ssc-public/Software-Engineering-Lab/blob/main/agendas/refactoring.md

### مراحل انجام آزمایش:

- پروژه ی جاوای داده شده را دانلود میکنیم.

- الگوی facade:

  در این بازآرایی، الگوی Facade برای ساده‌تر کردن واسط با سایر اجزای پروژه به کار گرفته می‌شود. با استفاده از یک کلاس واسط (Facade)، عملکردهای مرتبط را در یک نقطه تجمیع می‌کنیم و از طریق این واسط با سیستم تعامل می‌کنیم.

  - ScannerNew:

     کلاس جدید به نام ScannerNew ایجاد میکنیم. این کلاس مسئول ایجاد نمونه‌ی Scanner و واسطی ساده برای استفاده از Scanner در کلاس Parser است. که به صورت مستقیم با ارتباط برقرار نکنند.

  - CodeGeneratorNew:

    کلاس جدید به نام CodeGeneratorNew ایجاد میکنیم. این کلاس مسئول ایجاد نمونه‌ی CodeGenerator و واسطی ساده برای استفاده از CodeGenerator در کلاس Parser است. که به صورت مستقیم با ارتباط برقرار نکنند.

  هردو کلاس CodeGenerator و scanner را از حالت پابلیک در میاریم تا امنیت بیشتر شود.

- الگوی Polymorphism:

    با استفاده از Polymorphism، می‌توانیم شرط‌ها را به صورت یک ساختار سلسله‌مراتبی از کلاس‌ها و روش‌ها جایگزین کنیم. این باعث می‌شود کد خوانا‌تر، قابل‌تعمیم‌پذیرتر و تغییرپذیرتر شود.
   
    به جای switch case در کلاس action آن کلاس را ابسترکت کرده 
    , حالت های swich را بچه های آن قرار میدهیم.
    یک پوشه actions ایجاد کرده و کلاس های action, act, accept, reduce و shift را در آن قرار میدهیم.

- الگوی Separate Query From Modifie:

  در این بازآرایی، جدا کردن عملیاتی که مقدار برمی‌گردانند (Query) از عملیاتی که مقدار را تغییر می‌دهند (Modifier) به منظور جدا سازی نگرانی‌های مربوط به تغییر و ایجاد رفتارهای قابل تشخیص و قابل استفاده می‌شود.

  در اینجا تابع getNextParameter که مقدار را همان جا گرفته و تغییر میدهد را تغییر میدهیم و بک تابع جدید اضافه میکنیم که آن مقدار را تغییر داده و به getNextParameter میدهد.

- Self Encapsulated Field  , الگوهای دیگر:

  - Self Encapsulated Field:

    در این بازآرایی، ویژگی‌های کلاس را به صورت private تعریف کرده و به عنوان private فراخوانی می‌کنیم. به جای دسترسی مستقیم به خصیصه‌ها، از متدهای Getter و Setter استفاده می‌کنیم تا اطمینان حاصل کنیم که تمام عملیات بر روی خصیصه‌ها از طریق متدها انجام می‌شود.
      برای symboltable, getter و setter اعمال میکنیم.

  - Remove Assignments to Parameters:

    قاعدة بازآرایی برای حذف عملیات تخصیص مقدار به پارامترها در تابع‌ها استفاده می‌شود. این بازآرایی به شما کمک می‌کند تا کدهایی که مقداری به پارامترها اختصاص می‌دهند را بهبود بخشید و قابل خواندن‌تر و قابل تغییر‌پذیرتر کنید.
    در ParseTable به جای تغییر ورودی تابع که jsonTbale است یک متغییر محلی تعریف میکنیم و آن را تغییر میدهیم و استفاده میکنیم.

  - Extract Method:

      قاعده بازآرایی برای جدا کردن بخشی از کد تکراری و ایجاد یک متد جداگانه به منظور اجرای آن بخش از کد مورد استفاده می‌شود. این بازآرایی به شما کمک می‌کند کد تکراری را به متد جداگانه‌ای منتقل کنید و در صورت نیاز در جایگاه‌های مختلف برنامه از آن متد استفاده کنید.
      در کلاس codegenarator یک بخش 3 بار تکرار شده بود که به جای تکرار آن تابعی ایجاد کردیم و تابع را صدا زدیم.


## پرسش‌ها

